# Tasks 가이드라인

## 현재 작업 상태 파악 로직

### 브랜치 분석

1. **main/master가 아닌 경우** → 작업 중으로 판단
2. **브랜치명에서 이슈 번호 추출**:
   - `feat/issue-51` → #51
   - `fix/42-xxx` → #42
   - `feature/PRD-006-xxx` → PRD-006 검색

### 미커밋 변경사항 분석

파일 경로로 작업 유형 추정:
- `fe/` → 프론트엔드 작업
- `be/` → 백엔드 작업
- `docs/` → 문서 작업
- `.claude/` → Claude 설정 작업

### 연관 이슈/PR 연결

1. 브랜치명/커밋에서 추출한 이슈 번호로 이슈 조회
2. 해당 이슈에 연결된 PR 확인
3. 없으면 "PR 미생성" 표시

## 우선순위 점수 체계

| 기준 | 점수 | 설명 |
|------|------|------|
| `bug` 라벨 | +30 | 버그는 우선 처리 |
| `hotfix` 라벨 | +35 | 긴급 수정 |
| `security` 라벨 | +40 | 보안 이슈 최우선 |
| PR 리뷰 대기 | +25 | `REVIEW_REQUIRED` |
| PR 변경 요청 | +30 | `CHANGES_REQUESTED` |
| 마일스톤 마감 7일 이내 | +15 | 스프린트 마감 임박 |
| 미배정 이슈 | +10 | 작업자 필요 |
| `epic` 라벨 | -10 | 대형 작업은 분할 필요 |
| `blocked` 라벨 | -50 | 차단된 작업 후순위 |
| `wontfix` 라벨 | -100 | 처리 안함 |

## 카테고리 분류 규칙

### 라벨 기반 분류

| 카테고리 | 라벨 |
|----------|------|
| Frontend | `frontend`, `fe`, `ui` |
| Backend | `backend`, `be`, `api` |
| Epic | `epic`, `feature` |
| Bug | `bug`, `hotfix` |
| Enhancement | `enhancement`, `improvement` |
| Documentation | `docs`, `documentation` |

## 출력 템플릿

```markdown
# Tasks - 업무 분석 리포트

## 현재 작업 상태

- **현재 브랜치**: {브랜치명}
- **미커밋 변경사항**: {n}개 파일 수정됨
  - {파일 목록 (최대 5개)}
- **최근 커밋**: {최근 커밋 메시지}
- **연관 이슈**: #{번호} {제목} (있는 경우)
- **연관 PR**: #{번호} {제목} (있는 경우)

**→ 권장**: {다음 행동 제안}

---

## 긴급 처리 필요 (P0)

| # | 제목 | 라벨 | 점수 |
|---|------|------|------|
| #{n} | {제목} | `bug` | 30 |

## 진행 중인 작업

### PR 리뷰 대기
- [ ] #{n} {제목} - 리뷰어: @{name}

### PR 변경 요청됨
- [ ] #{n} {제목} - 수정 필요

## 추천 작업 (Top 5)

| 순위 | # | 제목 | 점수 | 이유 |
|------|---|------|------|------|
| 1 | #{n} | {제목} | 45 | bug + 미배정 |

## 카테고리별 분류

### Frontend ({n}개)
- #{n} {제목}

### Backend ({n}개)
- #{n} {제목}

## 마일스톤 현황

### {마일스톤명}
- 진행률: {완료}/{전체} ({n}%)
- 마감: {날짜} ({남은 일수})

## 오래된 이슈 (30일+)

| # | 제목 | 생성일 | 마지막 업데이트 |
|---|------|--------|----------------|
| #{n} | {제목} | {날짜} | {날짜} |

## 다음 액션 제안

1. **즉시**: {현재 작업 계속 또는 긴급 이슈 처리}
2. **오늘**: {Top 추천 작업}
3. **검토 필요**: {오래된 이슈 정리}
```

## 특수 상황 처리

### main 브랜치인 경우

```markdown
## 현재 작업 상태

- **현재 브랜치**: main
- **진행 중인 작업 없음**

**→ 권장**: 아래 추천 작업 중 하나를 시작하세요
```

### 미커밋 변경사항이 있는 경우

```markdown
**→ 권장**: 현재 변경사항을 커밋하거나 stash 후 작업 계속
```

### PR 변경 요청이 있는 경우

```markdown
**→ 권장**: #{n} PR 변경 요청 사항 수정 우선
```
