# wrap-lesson 가이드라인

## 1. 소스 분석

### A. 현재 세션 분석 (인자 없이 호출 시)

현재 세션의 대화 내용을 분석하여 다음을 파악합니다:

1. **무슨 작업을 했는가?** - 구현한 기능, 해결한 문제
2. **어떤 코드를 작성했는가?** - 새로 만든 파일, 수정한 파일
3. **어떤 기술/라이브러리를 사용했는가?**

### B. 커밋 분석 (인자와 함께 호출 시)

인자가 전달되면 git 명령어로 커밋을 찾아 분석합니다:

#### 인자 유형별 처리

| 인자 형식 | 예시 | git 명령어 |
|----------|------|-----------|
| 커밋 SHA | `0cc7657` | `git show 0cc7657` |
| 커밋 범위 | `abc..def` | `git log abc..def`, `git diff abc..def` |
| 메시지 검색 | `"feat: 홈"` | `git log --grep="feat: 홈"` |
| 티켓번호 | `WAVER-123` | `git log --grep="WAVER-123"` |

#### 커밋 분석 절차

```bash
# 1. 커밋 찾기 (인자 유형에 따라)
git log --grep="WAVER-123" --oneline

# 2. 커밋 상세 정보 확인
git show <commit-sha> --stat

# 3. 변경된 코드 확인
git show <commit-sha> -p

# 4. 변경된 파일 목록
git diff-tree --no-commit-id --name-only -r <commit-sha>
```

#### 분석할 내용

1. **커밋 메시지** - 무슨 작업인지 파악
2. **변경된 파일 목록** - 어떤 영역을 건드렸는지
3. **추가/삭제된 코드** - 실제 구현 내용
4. **사용된 기술/패턴** - 코드에서 발견되는 기술들

## 2. 문서 구조

아래 구조로 `docs/lessons/YYYY-MM-DD-{주제}.md` 파일을 생성합니다:

```markdown
# {주제} - 학습 회고

> 날짜: YYYY-MM-DD
> 소스: 세션 | 커밋 `{sha}` | 커밋 범위 `{sha1..sha2}`
> 작업 요약: {한 줄 요약}

## 오늘 한 작업

{구체적으로 무엇을 만들었는지}

---

## 등장한 기술/개념들

### 1. {기술/개념 이름}

#### 이게 뭐야?
{초보자도 이해할 수 있는 쉬운 설명}

#### 왜 필요해?
{이 기술이 해결하는 문제}

#### 어떻게 탄생했어?
{기술의 역사와 배경}

#### 어떻게 동작해?
{내부 동작 원리}

#### 장점은?
-

#### 단점은?
-

#### 대안은 뭐가 있어?
{비교 가능한 다른 기술들}

#### 트레이드오프
{선택했을 때 얻는 것과 잃는 것}

---

### 2. {다음 기술/개념}
... (반복)

---

## 꼬리 질문 타임

### Q: {자연스럽게 떠오르는 질문}
A: {답변}

### Q: {그 답에서 파생되는 질문}
A: {답변}

### Q: {또 파생되는 질문}
A: {답변}

(최소 5개 이상의 연쇄 질문)

---

## 오늘의 코드 하이라이트

```kotlin
// 오늘 작성한 핵심 코드 조각
// 주석으로 각 줄이 무슨 역할인지 설명
```

---

## 더 깊이 알고 싶다면

- {관련 공식 문서 링크}
- {추천 학습 자료}

---

## 한 줄 정리

> {오늘 배운 것을 한 문장으로}
```

## 3. 작성 원칙

### 쉬운 언어 사용
- 전문 용어가 나오면 **반드시** 풀어서 설명
- 비유와 예시를 적극 활용
- "~라고 생각하면 돼요" 같은 친근한 톤

### 깊이 있는 탐구
- 표면적인 설명에서 멈추지 않음
- "왜?"를 최소 3번 이상 파고들기
- 기술의 설계 철학까지 설명

### 실용적인 관점
- 실제 코드에서 어떻게 쓰이는지
- 언제 쓰면 좋고, 언제 피해야 하는지
- 흔히 하는 실수와 주의점

### 연결고리 만들기
- 이전에 배운 개념과 연결
- 앞으로 배울 개념 예고
- 전체 그림에서 이 기술의 위치

## 4. 꼬리 질문 예시

세션에서 Room을 사용했다면:

```
Q: Room이 뭐야?
A: 안드로이드에서 SQLite 데이터베이스를 쉽게 쓸 수 있게 해주는 라이브러리야.

Q: SQLite는 또 뭔데?
A: 파일 하나로 동작하는 가벼운 데이터베이스야. 서버 없이 앱 안에서 동작해.

Q: 그럼 왜 SQLite를 직접 안 쓰고 Room을 써?
A: SQLite를 직접 쓰면 SQL 쿼리를 문자열로 써야 하고,
   컴파일 때 오류를 못 잡아. Room은 어노테이션으로 쿼리를 쓰면
   컴파일 때 검증해줘서 안전해.

Q: 어노테이션이 뭔데?
A: @Query 같은 거야. 코드에 메타데이터를 붙이는 방법이야.
   컴파일러한테 "이건 특별해!" 라고 알려주는 거지.

Q: 컴파일이 뭔데?
A: 우리가 쓴 코틀린 코드를 기계가 이해할 수 있는 형태로
   번역하는 과정이야. 앱을 빌드할 때 일어나.
```

## 5. 체크리스트

문서 작성 완료 후 확인:

- [ ] 세션에서 등장한 모든 기술/개념을 다뤘는가?
- [ ] 각 개념에 "왜?"를 3번 이상 물었는가?
- [ ] 초보자가 읽어도 이해할 수 있는가?
- [ ] 꼬리 질문이 5개 이상 있는가?
- [ ] 실제 작성한 코드가 포함되어 있는가?
- [ ] 더 공부할 수 있는 자료를 안내했는가?

## 6. 주의사항

- 인자 없이 호출: **현재 세션**의 내용만 다룹니다
- 인자와 함께 호출: **해당 커밋**의 내용을 다룹니다
- 너무 기초적인 것(변수, 함수 등)은 생략해도 됩니다
- 단, 안드로이드/코틀린 특화 개념은 아무리 기초적이어도 설명합니다
- 커밋을 찾지 못하면 사용자에게 알리고 올바른 형식을 안내합니다
