# PRD 작성 지침

## PRD 유형별 선택 기준

| 유형 | 적용 대상 | 선택 기준 |
|------|----------|----------|
| 기본형 | 단순 CRUD, 소규모 기능 | 도메인 규칙 2개 이하, API 1-2개 |
| 상세형 | 복잡한 비즈니스 로직 | 도메인 규칙 3개 이상, 상태 전이, 다중 엔티티 |
| API 중심 | 외부 연동, API 우선 설계 | 외부 시스템 연동, 명세 우선 필요 |

---

## 기본형 PRD 템플릿

단순 CRUD나 소규모 기능에 적합합니다.

```markdown
# {기능명} PRD

## 개요
- **목적**: {이 기능이 해결하는 문제}
- **대상 사용자**: {누가 사용하는가}

## 유스케이스

### UC-1: {유스케이스명}
- **전제조건**: {선행 조건}
- **기본 흐름**:
  1. {사용자가 ~한다}
  2. {시스템이 ~한다}
  3. {결과}
- **예외 흐름**:
  - E1: {예외 상황} → {처리 방법}

## 입출력 정의

### 입력
| 필드명 | 타입 | 필수 | 설명 | 제약조건 |
|-------|------|-----|------|---------|
| {필드} | {타입} | Y/N | {설명} | {제약} |

### 출력
| 필드명 | 타입 | 설명 |
|-------|------|------|
| {필드} | {타입} | {설명} |

## 예외 케이스
| 코드 | 상황 | 메시지 |
|-----|------|--------|
| {코드} | {상황} | {메시지} |
```

---

## 상세형 PRD 템플릿

복잡한 비즈니스 로직이나 다중 엔티티 연관 기능에 적합합니다.

```markdown
# {기능명} PRD

## 개요
- **목적**: {이 기능이 해결하는 문제}
- **대상 사용자**: {누가 사용하는가}
- **관련 도메인**: {연관된 도메인 객체들}

## 도메인 용어 정의
| 용어 | 정의 | 비고 |
|-----|------|-----|
| {용어} | {정의} | {예시 또는 참고} |

## 유스케이스

### UC-1: {유스케이스명}
- **전제조건**: {선행 조건}
- **사후조건**: {완료 후 상태}
- **기본 흐름**:
  1. {사용자가 ~한다}
  2. {시스템이 ~한다}
  3. {결과}
- **대안 흐름**:
  - A1: {조건} → {다른 처리}
- **예외 흐름**:
  - E1: {예외 상황} → {처리 방법}

## 비즈니스 규칙

### BR-1: {규칙명}
- **설명**: {규칙 상세}
- **적용 시점**: {언제 검증하는가}
- **위반 시 처리**: {예외 또는 거부}

### BR-2: {규칙명}
- **설명**: {규칙 상세}
- **적용 시점**: {언제 검증하는가}
- **위반 시 처리**: {예외 또는 거부}

## 상태 전이 (해당 시)

```
[초기상태] --{이벤트}--> [다음상태]
    │
    └--{조건}--> [대안상태]
```

| 현재 상태 | 이벤트 | 조건 | 다음 상태 |
|----------|-------|-----|----------|
| {상태A} | {이벤트} | {조건} | {상태B} |

## 입출력 정의

### 입력
| 필드명 | 타입 | 필수 | 설명 | 제약조건 | 비즈니스 규칙 |
|-------|------|-----|------|---------|-------------|
| {필드} | {타입} | Y/N | {설명} | {제약} | {관련 BR} |

### 출력
| 필드명 | 타입 | 설명 |
|-------|------|------|
| {필드} | {타입} | {설명} |

## 제약사항
- {기술적/비즈니스적 제약}
- {성능 요구사항}
- {보안 요구사항}

## 예외 케이스
| 코드 | 상황 | 메시지 | 관련 BR |
|-----|------|--------|---------|
| {코드} | {상황} | {메시지} | {BR-N} |
```

---

## API 중심 PRD 템플릿

외부 연동이나 API 우선 설계가 필요한 기능에 적합합니다.

```markdown
# {기능명} PRD

## 개요
- **목적**: {이 기능이 해결하는 문제}
- **대상 사용자**: {누가 사용하는가}
- **연동 시스템**: {외부 시스템 정보}

## API 명세

### {API명}

- **Method**: `{GET/POST/PUT/PATCH/DELETE}`
- **Path**: `/api/v1/{리소스}/{id}`
- **인증**: {필요 여부 및 방식}
- **권한**: {필요한 권한}

#### 요청

**Headers**
| 헤더명 | 필수 | 설명 |
|-------|-----|------|
| Authorization | Y | Bearer {token} |

**Path Parameters**
| 파라미터 | 타입 | 필수 | 설명 |
|---------|-----|-----|------|
| {param} | {타입} | Y/N | {설명} |

**Query Parameters**
| 파라미터 | 타입 | 필수 | 기본값 | 설명 |
|---------|-----|-----|-------|------|
| {param} | {타입} | Y/N | {기본값} | {설명} |

**Request Body**
```json
{
  "field": "value"
}
```

| 필드 | 타입 | 필수 | 설명 | 제약조건 |
|-----|-----|-----|------|---------|
| {필드} | {타입} | Y/N | {설명} | {제약} |

#### 응답

**성공 (200/201)**
```json
{
  "id": 1,
  "field": "value"
}
```

| 필드 | 타입 | 설명 |
|-----|-----|------|
| {필드} | {타입} | {설명} |

**에러 응답**
| 상태코드 | 코드 | 상황 | 메시지 |
|---------|-----|------|--------|
| 400 | {코드} | {상황} | {메시지} |
| 404 | {코드} | {상황} | {메시지} |

## 비즈니스 규칙

### BR-1: {규칙명}
- **설명**: {규칙 상세}
- **검증 시점**: {요청 시/처리 시}

## 연동 흐름 (해당 시)

```
[클라이언트] --요청--> [API 서버] --호출--> [외부 시스템]
                           │
                           └--응답--> [클라이언트]
```

## 제약사항
- **Rate Limit**: {제한 정보}
- **Timeout**: {타임아웃 설정}
- **Retry 정책**: {재시도 정책}
```

---

## 대화형 수집 질문 가이드

### 1단계: 기본 정보 수집

```
1. "어떤 기능을 만들려고 하시나요?"
2. "이 기능을 사용하는 사람은 누구인가요?"
3. "이 기능이 해결하려는 문제는 무엇인가요?"
```

### 2단계: 유스케이스 상세화

```
1. "사용자가 이 기능을 어떻게 사용하게 되나요? 단계별로 설명해주세요."
2. "이 과정에서 실패하거나 예외가 발생하는 경우는 어떤 것들이 있나요?"
3. "어떤 조건에서는 다르게 동작해야 하나요?"
```

### 3단계: 입출력 정의

```
1. "이 기능에 필요한 입력 데이터는 무엇인가요?"
2. "각 입력에 대한 제약조건이 있나요? (길이, 형식, 범위 등)"
3. "결과로 어떤 데이터가 반환되어야 하나요?"
```

### 4단계: 비즈니스 규칙 (상세형)

```
1. "반드시 지켜져야 하는 비즈니스 규칙이 있나요?"
2. "특정 조건에서만 허용되는 동작이 있나요?"
3. "데이터 간의 일관성 규칙이 있나요?"
```

### 5단계: API 설계 (API 중심형)

```
1. "이 기능에 필요한 API 엔드포인트는 무엇인가요?"
2. "인증/인가가 필요한가요? 어떤 권한이 필요한가요?"
3. "외부 시스템과 연동이 필요한가요?"
```

---

## 검토 포인트 체크리스트

PRD 작성 완료 후 다음을 확인합니다:

### 완성도 검토
- [ ] 모든 유스케이스가 정의되었는가?
- [ ] 예외 케이스가 빠짐없이 정의되었는가?
- [ ] 입출력 필드가 명확히 정의되었는가?
- [ ] 제약조건이 구체적인가? (숫자, 범위 등)

### 일관성 검토
- [ ] 용어가 통일되어 사용되는가?
- [ ] 기존 시스템과 일관성이 있는가?
- [ ] 명명 규칙(Find/Save/Modify/Delete)을 따르는가?

### 구현 가능성 검토
- [ ] 기술적으로 구현 가능한가?
- [ ] 성능 요구사항이 현실적인가?
- [ ] 테스트 가능한 구조인가?

### 보안 검토
- [ ] 인증/인가가 적절히 정의되었는가?
- [ ] 민감 정보 처리가 고려되었는가?
- [ ] 입력 검증이 충분한가?