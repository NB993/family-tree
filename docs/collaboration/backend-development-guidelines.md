# AI 협업 가이드라인 - 백엔드 개발 지침

> 이 문서는 AI와 인간이 효과적으로 협업하여 백엔드 시스템을 개발하기 위한 종합 가이드라인입니다.

## 문서 개요

이 가이드라인은 헥사고날 아키텍처 기반의 Spring Boot 백엔드 개발에서 AI와 개발자가 효율적으로 협업할 수 있도록 설계된 체계적인 지침서입니다. AI의 토큰 효율성을 최적화하면서도 일관된 품질의 코드를 생산할 수 있는 구조화된 접근 방식을 제공합니다.

## 개발 지침 문서 목록

### 1. 핵심 개발 가이드라인

1. **[명명 규칙 지침서](./naming-conventions.md)**
   - 필수 명명 규칙 (Find/Save/Modify/Delete 접두사 체계)
   - 계층별 명명 규칙 (포트, 어댑터, 서비스, 도메인)
   - 일반 명명 규칙 (변수, 메서드, 클래스)
   - 주석 및 문서화 스타일

2. **[아키텍처 개요](./architecture-overview.md)**
   - 헥사고날 아키텍처 설계 원칙
   - 기술 스택 및 버전 정보
   - 핵심 계층 구조 (core/infrastructure/presentation)
   - 각 계층별 구현 예시 코드

3. **[개발 프로세스 및 단계](./development-process.md)**
   - Inside-Out 개발 프로세스 (core → infrastructure → presentation)
   - 기능 개발 템플릿 및 단계별 체크리스트
   - 개발 규칙 준수사항
   - 개발 전 필수 확인사항
   - 코드 제출 전 최종 점검사항

4. **[코드 작성 스타일 가이드라인](./coding-standards.md)**
   - 기본 코딩 원칙 및 스타일 규칙
   - 예외 처리 패턴
   - 컬렉션 및 비동기 처리 가이드
   - 계층별 클래스 작성 예시

5. **[테스트 코드 작성 가이드라인](./testing-guidelines.md)**
   - 테스트 분류 체계 (단위/통합/인수 테스트)
   - Given-When-Then 구조 기반 테스트 작성
   - JUnit5 + AssertJ 활용법
   - API 문서 테스트 작성 방법

6. **[엔티티 매핑 및 변환 가이드라인](./entity-mapping.md)**
   - JPA 엔티티 설계 원칙
   - 엔티티-도메인 변환 규칙
   - 컬렉션 처리 및 영속성 관리
   - 테스트용 엔티티 생성 패턴

### 2. AI 협업 특화 가이드라인

7. **[AI 협업 가이드라인](./ai-collaboration-guidelines.md)**
   - AI 개발 시 협업 원칙
   - 토큰 효율성 관리 전략
   - 작업 진행 방식 및 우선순위
   - 품질 관리 기준 및 검증 방법

## AI 협업 최적화 전략

### 토큰 효율성 관리

#### 1. 계층별 작업 분할
- **Core 계층**: 도메인 로직에만 집중, 외부 의존성 배제
- **Infrastructure 계층**: 포트 인터페이스 구현에 집중
- **Presentation 계층**: 통합 검증 및 API 문서화

#### 2. 맥락 최소화 원칙
- 각 계층 개발 시 해당 계층 관련 문서만 참조
- 불필요한 히스토리나 변경 사항 언급 최소화
- 핵심 요구사항과 제약사항에만 집중

#### 3. 표준화된 패턴 활용
- 명명 규칙 체계 준수로 일관성 확보
- 템플릿 기반 코드 생성으로 품질 표준화
- 반복적인 설명 최소화

### 품질 관리 체계

#### 1. 단계별 검증
- **코어 계층**: 모킹 기반 단위 테스트
- **인프라 계층**: @DataJpaTest 기반 실제 데이터 테스트
- **프레젠테이션 계층**: 통합 테스트 및 API 문서화

#### 2. 문서화 자동화
- 개발과 동시에 Javadoc 작성
- API 문서 자동 생성
- 테스트 코드를 통한 사용법 문서화

#### 3. 일관성 확보
- Epic/Story 기반 티켓 관리
- 표준화된 커밋 메시지
- 체계적인 코드 리뷰 프로세스

## 개발 프로세스 요약

### Phase 1: 개발 준비
1. **요구사항 분석**
   - 기능 정의 및 기획서 이해
   - 유효성 검증 정책 확인
   - 도메인 규칙 및 제약사항 파악

2. **개발 전 체크리스트**
   - 관련 문서 검토 완료
   - 명명 규칙 확인
   - 테스트 전략 수립

### Phase 2: 계층별 개발 (Inside-Out)

#### Step 1: Core 계층 개발
- **도메인 모델** 설계 및 구현
- **비즈니스 로직** 구현 (유효성 검증, 정책 적용)
- **포트 인터페이스** 정의 (인바운드/아웃바운드)
- **단위 테스트** 작성 (모킹 활용)

#### Step 2: Infrastructure 계층 개발
- **아웃바운드 어댑터** 구현 (JPA Repository)
- **엔티티 매핑** 및 변환 로직
- **외부 시스템 연동** (필요 시)
- **인프라 테스트** 작성 (@DataJpaTest)

#### Step 3: Presentation 계층 개발
- **인바운드 어댑터** 구현 (REST Controller)
- **DTO 및 응답 모델** 정의
- **통합 테스트** 작성
- **API 문서화** (Spring REST Docs)

### Phase 3: 품질 검증 및 완료
1. **최종 테스트 검증**
   - 모든 테스트 통과 확인
   - 코드 커버리지 확인

2. **문서화 완료**
   - API 문서 생성 확인
   - 개발 문서 작성

3. **코드 리뷰 및 제출**
   - 가이드라인 준수 확인
   - 피드백 반영

## 주요 명명 규칙 요약

| 동작 유형 | 필수 접두사 | 올바른 예시 | 잘못된 예시 |
|---------|------------|------------|------------|
| 조회 | **Find** | FindFamily, FindMemberById | Get, Retrieve, Query |
| 등록 | **Save** | SaveFamily, SaveMember | Create, Add, Insert |
| 수정 | **Modify** | ModifyFamily, ModifyMember | Update, Change, Edit |
| 삭제 | **Delete** | DeleteFamily, DeleteMember | Remove, Erase |

> ⚠️ **중요**: 모든 인바운드 어댑터, 인바운드 포트, 아웃바운드 포트는 반드시 위 접두사를 사용해야 합니다.

## AI 협업 시 주의사항

### 할 것 (DO)
- ✅ 각 계층별 가이드라인 문서를 정확히 숙지하고 개발
- ✅ 명명 규칙을 엄격히 준수
- ✅ 테스트 코드를 항상 함께 작성
- ✅ Javadoc을 상세히 작성
- ✅ 단계별 완료 후 검증 요청

### 하지 말 것 (DON'T)
- ❌ 가이드라인을 읽지 않고 개발 시작
- ❌ 임의로 명명 규칙 변경
- ❌ 테스트 코드 생략
- ❌ 계층 간 의존성 역전 원칙 위반
- ❌ 문서화 없이 코드만 작성

## 관련 문서 링크

- **아키텍처**: [헥사고날 아키텍처 가이드](../architecture/)
- **개발 문서**: [Epic/Story 개발 기록](../development/)
- **진행 현황**: [프로젝트 진행 보고서](../progress/)

---

> 이 가이드라인은 AI와 인간의 효과적인 협업을 통해 고품질의 백엔드 시스템을 구축하기 위한 실전 노하우를 담고 있습니다. 지속적인 개선을 통해 더 나은 협업 모델을 만들어가고 있습니다.
